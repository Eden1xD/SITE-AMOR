<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Convite com Amor üíñ</title>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins&display=swap');

body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  min-height:100vh;
  overflow-x:hidden;
  position:relative;
}

h1{
  font-size:3em;
  color:#fff;
  text-shadow:0 0 15px #ff4da6,0 0 25px #ff99cc;
  margin:15px 0;
}

.main-image{
  width:180px;
  height:180px;
  border-radius:50%;
  object-fit:cover;
  border:5px solid #fff;
  box-shadow:0 0 30px #ff4da6;
  margin:20px auto;
  animation:pulse 2s infinite alternate;
}

@keyframes pulse{
  from{transform:scale(1);box-shadow:0 0 20px #ff4da6;}
  to{transform:scale(1.05);box-shadow:0 0 50px #ff99cc;}
}

.love-message{
  font-size:1.3em;
  color:#fff;
  margin:15px auto;
  text-shadow:0 0 12px #ff0066,0 0 20px #ff3399;
  animation: glowText 2s infinite alternate;
  white-space: pre-wrap;
  max-width:80%;
  word-wrap: break-word;
}

@keyframes glowText{
  from{text-shadow:0 0 8px #ff0066;}
  to{text-shadow:0 0 25px #ff99cc;}
}

.counter-title{
  font-family:'Dancing Script',cursive;
  font-size:1.2em;
  color:#fff;
  text-shadow:0 0 6px #ff66aa,0 0 12px #ff99cc;
  margin-bottom:10px;
}

.counter{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:20px 0;
}

.counter div{
  background:rgba(255,255,255,0.15);
  border:2px solid #fff;
  padding:15px 10px;
  border-radius:15px;
  min-width:60px;
  color:#fff;
  font-size:1.3em;
  font-weight:bold;
  position:relative;
  overflow:hidden;
  transition: transform 0.3s, box-shadow 0.3s;
  text-align:center;
}

.counter div:hover{
  transform:scale(1.1) rotate(-2deg);
  box-shadow:0 0 25px #ff99cc,0 0 50px #ff4da6;
}

.counter div::after{
  content:'';
  position:absolute;
  width:100%;
  height:100%;
  background:linear-gradient(45deg,#fff0,#fff0,#ff99cc,#fff0);
  top:0; left:-100%;
  animation:shine 2s infinite;
  border-radius:15px;
}

@keyframes shine{
  from{left:-100%;}
  to{left:100%;}
}

.counter .label{
  display:block;
  font-size:0.8em;
  margin-top:5px;
}

.letter{
  margin:30px auto;
  padding:25px;
  width:340px;
  background:#fff;
  border-radius:15px;
  box-shadow:0 0 25px rgba(0,0,0,0.2);
  transform:rotate(-1deg);
  cursor:pointer;
  transition:transform 0.5s ease;
  position:relative;
}

.letter.open{
  transform:rotate(0deg) scale(1.05);
  background:#fff8f8;
  box-shadow:0 0 35px #ff4da6;
}

.letter p{
  font-size:1.1em;
  color:#444;
  display:none;
  white-space: pre-wrap;
}

.letter.open p{
  display:block;
  animation:fadeIn 1s forwards;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

.gallery{
  margin:30px auto;
  display:flex;
  justify-content:center;
  gap:20px;
  perspective:1000px;
}

.gallery img{
  width:100px;
  height:100px;
  border-radius:12px;
  object-fit:cover;
  box-shadow:0 0 15px #fff;
  transition: transform 0.4s ease;
  cursor:pointer;
}

.gallery img:hover{
  transform:rotateY(15deg) rotateX(10deg) scale(1.2);
}

.config-panel{
  margin-top:40px;
  background:rgba(255,255,255,0.15);
  padding:20px;
  border-radius:15px;
  width:85%;
  max-width:550px;
  box-shadow:0 0 20px rgba(255,255,255,0.4);
  color:#fff;
  text-align:left;
  transition: all 0.5s ease;
}

.config-panel.hidden{display:none;}

.config-panel h2{
  margin-bottom:15px;
  font-size:1.4em;
  text-align:center;
}

.config-panel label{display:block;margin-top:12px;font-weight:bold;}
.config-panel input, .config-panel select{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:none;font-size:1em;}
.config-panel button{padding:12px 20px;border:none;border-radius:10px;background:#ff4da6;color:#fff;font-weight:bold;font-size:1em;margin-top:10px;cursor:pointer;transition: background 0.3s, transform 0.3s;width:100%;}
.config-panel button:hover{background:#ff0066;transform: scale(1.05);}
#qrcode{margin-top:25px;text-align:center;}
audio{margin-top:15px;display:none;}
</style>
</head>
<body>

<h1>Convite com Amor üíï</h1>

<img src="https://i.imgur.com/0Zf7uFd.jpg" alt="Imagem principal" class="main-image" id="mainImage">

<div class="love-message" id="loveMessage">Estamos juntos h√°...</div>

<div class="counter-title">Estamos se amando h√°</div>
<div class="counter" id="counter">
  <div><span id="months">0</span><span class="label">Meses</span></div>
  <div><span id="days">0</span><span class="label">Dias</span></div>
  <div><span id="hours">0</span><span class="label">Horas</span></div>
  <div><span id="minutes">0</span><span class="label">Min</span></div>
  <div><span id="seconds">0</span><span class="label">Seg</span></div>
</div>

<div class="letter" id="letter">
  <strong>Clique para abrir a carta üíå</strong>
  <p id="letterText">Voc√™ √© a melhor parte da minha vida üíñ</p>
</div>

<div class="gallery" id="gallery">
  <img src="https://i.imgur.com/2yaf2wb.jpg" id="img1">
  <img src="https://i.imgur.com/Wf1xR0N.jpg" id="img2">
  <img src="https://i.imgur.com/b7XG0l9.jpg" id="img3">
</div>

<audio id="musicPlayer" controls autoplay loop></audio>

<div class="config-panel" id="configPanel">
  <h2>‚öôÔ∏è Configura√ß√µes do Convite</h2>
  <label>Data de in√≠cio:</label>
  <input type="date" id="startDate">
  <label>Mensagem da carta (m√°x 200 chars):</label>
  <input type="text" id="customLetter" maxlength="200" placeholder="Digite sua mensagem...">
  <label>Mensagem abaixo da imagem (m√°x 150 chars):</label>
  <input type="text" id="customMessage" maxlength="150" placeholder="Digite sua frase rom√¢ntica...">
  <label>Fonte da carta:</label>
  <select id="fontSelect">
    <option value="'Poppins', sans-serif">Padr√£o</option>
    <option value="'Dancing Script', cursive">Rom√¢ntica</option>
    <option value="'Courier New', monospace">Digitada</option>
  </select>
  <label>Cor do tema:</label>
  <input type="color" id="themeColor" value="#ff9a9e">
  <label>Cor do contador:</label>
  <input type="color" id="counterColor" value="#ffffff">
  <label>Imagem principal:</label>
  <input type="file" id="mainImageInput" accept="image/*">
  <label>Imagens da galeria:</label>
  <input type="file" id="galleryInput1" accept="image/*">
  <input type="file" id="galleryInput2" accept="image/*">
  <input type="file" id="galleryInput3" accept="image/*">
  <label>M√∫sica de fundo:</label>
  <input type="file" id="musicInput" accept="audio/*">
  <button onclick="applyConfig()">Aplicar Configura√ß√µes</button>
  <button onclick="createAndSaveQRCode()">Criar e Salvar QR Code</button>
  <div id="qrcode"></div>
</div>

<script>
let startDateInput=document.getElementById("startDate");
let loveMessage=document.getElementById("loveMessage");
let letter=document.getElementById("letter");
let letterText=document.getElementById("letterText");
let fontSelect=document.getElementById("fontSelect");

function applyConfig(){
  // Background
  document.body.style.background=document.getElementById("themeColor").value;
  // Counter color
  document.querySelectorAll(".counter div").forEach(d=>d.style.color=document.getElementById("counterColor").value);
  // Main image
  const mainInput=document.getElementById("mainImageInput");
  if(mainInput.files && mainInput.files[0]){
    const reader=new FileReader();
    reader.onload=e=>document.getElementById("mainImage").src=e.target.result;
    reader.readAsDataURL(mainInput.files[0]);
  }
  // Gallery
  ["galleryInput1","galleryInput2","galleryInput3"].forEach((id,i)=>{
    const input=document.getElementById(id);
    if(input.files && input.files[0]){
      const reader=new FileReader();
      reader.onload=e=>document.getElementById(`img${i+1}`).src=e.target.result;
      reader.readAsDataURL(input.files[0]);
    }
  });
  // Carta
  letterText.textContent=document.getElementById("customLetter").value;
  letter.style.fontFamily=fontSelect.value;
  // Mensagem abaixo da imagem
  loveMessage.textContent=document.getElementById("customMessage").value;
  // M√∫sica
  const musicInput=document.getElementById("musicInput");
  if(musicInput.files && musicInput.files[0]){
    const reader=new FileReader();
    reader.onload=e=>{
      const player=document.getElementById("musicPlayer");
      player.src=e.target.result;
      player.style.display="block";
      player.play();
    }
    reader.readAsDataURL(musicInput.files[0]);
  }
}

// Contador
function updateCounter(){
  const start=startDateInput.value?new Date(startDateInput.value):new Date();
  const now=new Date();
  let diff=now-start;
  let months=Math.floor(diff/1000/60/60/24/30);
  diff-=months*30*24*60*60*1000;
  let days=Math.floor(diff/1000/60/60/24);
  diff-=days*24*60*60*1000;
  let hours=Math.floor(diff/1000/60/60);
  diff-=hours*60*60*1000;
  let minutes=Math.floor(diff/1000/60);
  diff-=minutes*60*1000;
  let seconds=Math.floor(diff/1000);
  document.getElementById("months").textContent=months;
  document.getElementById("days").textContent=days;
  document.getElementById("hours").textContent=hours;
  document.getElementById("minutes").textContent=minutes;
  document.getElementById("seconds").textContent=seconds;
}
setInterval(updateCounter,1000);

// Carta
letter.addEventListener("click",()=>{
  letter.classList.toggle("open");
});

// QR Code
function createAndSaveQRCode(){
  // esconder painel
  document.getElementById("configPanel").classList.add("hidden");
  const divQR=document.getElementById("qrcode");
  divQR.innerHTML="";
  // gerar QR code para o pr√≥prio site (convite final)
  const data=window.location.href;
  QRCode.toCanvas(document.createElement("canvas"),data,{width:200},function(err,canvas){
    if(err)console.error(err);
    divQR.appendChild(canvas);
    const link=document.createElement("a");
    link.href=canvas.toDataURL();
    link.download="convite.png";
    link.click();
  });
}

</script>
</body>
</html>
